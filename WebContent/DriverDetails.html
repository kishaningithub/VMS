<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>VehicleDetails</title>
<script>
    // Configuration - Make all changes here alone :-)
    var settingsDriverDetails={
    		gridDataSource:"DriverServlet",
    		OperationsDialog:returnResponse("addDriver.html"),
    		gridId:"#driverDetailsGrid",
    		addButtonId:"#addDriver",
    		gridColumnOrder:["licenceNo","driverName","dateofJoining","contAddress","phoneNo","recordStatus"],
    		columnNames:{"licenceNo":"License No.","driverName":"Driver Name",
    			         "dateofJoining":"DOJ","contAddress":"Address",
    			         "phoneNo":"Phone No"}
    };
	// Work Code
	function reloadDriverDetailsDataGrid()
	{
		var operationsDialog=settingsDriverDetails.OperationsDialog;
		var gridId=settingsDriverDetails.gridId;
		var addButtonId=settingsDriverDetails.addButtonId;
		var gridColumnOrder=settingsDriverDetails.gridColumnOrder;
		var columnNames=settingsDriverDetails.columnNames;
		$(gridId).datagrid({dataSource:settingsDriverDetails.gridDataSource,
			                          dateFormat: gridDateFormat,
			                          highlightOnSelect:false,
			                          loadingGif:"images/loading.gif",
			                          colWidth:'1px', // just width magic!
			                          hideColumns:['recordStatus'],
			                          columnOrder:gridColumnOrder,
			                          columnNames:columnNames,
			                          afterTableCreate:function(){
			                        	  standardistaTableSorting.init();
			                        	  $(gridId).find("tbody > tr").dblclick(function(){
			                        		  var selectedRow=$(this);
			                        		  vmsPopupManager.showUpdatePopup(operationsDialog,selectedRow,reloadDriverDetailsDataGrid);
			                              });
			                        	  // Handler will be called when + button is clicked
			                        	  $(addButtonId).click(function(){
			                        		  vmsPopupManager.showAddPopup(operationsDialog,reloadDriverDetailsDataGrid);
			                        	  })
			                          }});
	}
	$(document).ready(function() {
		$(".button").button();
		reloadDriverDetailsDataGrid();
	});
</script>
</head>
<body>
    <input id="addDriver" type=button class="button" style="float:right" value="+"> <!--  id should be same as addButtonId with # removed -->
    <table id="driverDetailsGrid" class="sortable" style="width:100%"/> <!-- id should be same as gridId with # removed -->
</body>
</html>