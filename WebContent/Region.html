<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>VehicleDetails</title>
<script>
    // Configuration - Make all changes here alone :-)
    var settingsVehicleDetails={
    		gridDataSource:"RegionServlet",
    		OperationsDialog:returnResponse("VehicleForm.html"),
    		gridId:"#regionGrid",
    		addButtonId:"#addRegion",
    		gridColumnOrder:["vehicleNo","vehicleDesc","ownerName","insuranceNo","insuranceStartDate","insuranceEndDate","rcNo","fcDate","recordStatus"],
    		columnNames:{"vehicleNo":"Vehicle No.","vehicleDesc":"Description","ownerName":"Owner",
    			         "insuranceNo":"Insurance No.","insuranceStartDate":"Ins. Start date",
    			         "insuranceEndDate":"Ins. End date","rcNo":"RC No.","fcDate":"FC Date"}
    };
    // Work Code
    function reloadVehicleDetailsDataGrid()
    {
    	var operationsDialog=settingsVehicleDetails.OperationsDialog;
		var gridId=settingsVehicleDetails.gridId;
		var addButtonId=settingsVehicleDetails.addButtonId;
		var gridColumnOrder=settingsVehicleDetails.gridColumnOrder;
		var columnNames=settingsVehicleDetails.columnNames;
		$(gridId).datagrid({dataSource:settingsVehicleDetails.gridDataSource,
			                          dateFormat: gridDateFormat,
			                          highlightOnSelect:false,
			                          loadingGif:"images/loading.gif",
			                          colWidth:'1px', // just width magic!
			                          hideColumns:['recordStatus'],
			                          columnOrder:gridColumnOrder,
			                          columnNames:columnNames,
			                          afterTableCreate:function(){
			                        	  standardistaTableSorting.init();
			                        	  $(gridId).find("tbody > tr").dblclick(function(){
			                        		  var selectedRow=$(this);
			                        		  vmsPopupManager.showUpdatePopup(operationsDialog,selectedRow,reloadVehicleDetailsDataGrid);
			                              });
			                        	  // Handler will be called when + button is clicked
			                        	  $(addButtonId).click(function(){
			                        		  vmsPopupManager.showAddPopup(operationsDialog,reloadVehicleDetailsDataGrid);
			                        	  })
			                          }});
    }
	$(document).ready(function() {
		 $(".button").button();
		 reloadVehicleDetailsDataGrid();
	});
</script>
</head>
<body>
   <input id="addVehicle" type=button class="button"  style="float:right" value="+"> <!--  id should be same as addButtonId with # removed -->
   <table id="vehicleDetailsGrid" style="width:100%" class="sortable"/> <!-- id should be same as gridId with # removed -->
</body>
</html>